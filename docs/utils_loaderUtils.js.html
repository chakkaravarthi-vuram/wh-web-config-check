<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/loaderUtils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/loaderUtils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import store from '../Store';
import * as actions from '../redux/actions/Actions';
import gClasses from '../scss/Typography.module.scss';

/** @module loader * */
/**
 * @memberof loader
 */
/**
 * @function calculateProgressPercentage
 * @param {Object} progressEvent event object
 * @description to caluculate progress of api call in percentage and display loader based on that
 * @return {number}
 */
export const calculateProgressPercentage = (progressEvent) => {
    if (progressEvent) {
      return parseInt(
        Math.round((progressEvent.loaded / progressEvent.total) * 100),
        10,
      );
    }
    return null;
  };
  /**
 * @memberof loader
 */
/**
 * @function updatePostLoader
 * @param {boolean} isVisible boolean
 * @param {Object} progressEvent event object
 * @description to run a loader at top of screen for all api calls
 * @return dispatch action to redux to update popover
 */
  export const updatePostLoader = (isVisible, progressEvent) => {
    const progressPercentage = calculateProgressPercentage(progressEvent);
    const progress = {
      isVisible,
      progressPercentage,
    };
    store.dispatch(actions.postLoaderAction(progress));
  };
  /**
 * @memberof loader
 */
/**
 * @function setPointerEvent
 * @param {boolean} isVisible boolean
 * @description to hide pointer to prevent user clicking anywhere while making api calls
 */
  export const setPointerEvent = (isVisible) => {
    if (isVisible) {
      document.body.classList.add(gClasses.NoPointerEvent);
    } else {
      document.body.classList.remove(gClasses.NoPointerEvent);
    }
  };
  /**
 * @memberof loader
 */
/**
 * @function getLoaderConfig
 * @description to show loader at top
 * @return {Object}
 */
  export const getLoaderConfig = () => {
    return {
      onUploadProgress: (progressEvent) => updatePostLoader(true, progressEvent),
      timeout: 0,
    };
  };
  /**
 * @memberof loader
 */
/**
 * @function getFileUploadStatus
 * @param {function} callBack callback function
 * @description to show file uploading status
 */
  export const getFileUploadStatus = (callBack) => {
    return {
      onUploadProgress: (progressEvent) => {
        const progressPercentage = calculateProgressPercentage(progressEvent);
        console.log('checking12345', progressEvent, progressPercentage);
        callBack(progressPercentage);
      },
      timeout: 0,
    };
  };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-date%2520_.html">date *</a></li><li><a href="module-encryption%2520_.html">encryption *</a></li><li><a href="module-getter&generator%2520_.html">getter&generator *</a></li><li><a href="module-helper%2520_.html">helper *</a></li><li><a href="module-imagehelper%2520_.html">imagehelper *</a></li><li><a href="module-joi%2520_.html">joi *</a></li><li><a href="module-loader%2520_.html">loader *</a></li><li><a href="module-popover%2520_.html">popover *</a></li><li><a href="module-profile%2520_.html">profile *</a></li></ul><h3>Global</h3><ul><li><a href="global.html#generateActionName">generateActionName</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Aug 12 2021 18:35:32 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
